@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  html {
    font-size: 62.5%;
  }
  
  body {
    @apply font-base text-base leading-relaxed bg-white text-black min-h-screen flex flex-col;
    word-wrap: break-word;
    text-rendering: optimizelegibility;
    -webkit-font-smoothing: antialiased;
  }

  /* Focus styles */
  :focus,
  button:focus {
    @apply outline-2 outline-offset-2 outline-gray-500 rounded-sm transition-all duration-300;
  }

  :focus:not(:focus-visible):not(.screen-reader-text):not(.skip),
  button:focus:not(:focus-visible):not(.screen-reader-text):not(.skip),
  input:active {
    @apply outline-none;
  }

  /* Form elements */
  input:not([type="submit"]),
  select,
  option,
  textarea,
  button,
  ::placeholder {
    @apply font-inherit text-inherit cursor-pointer m-0 transition-all;
  }

  input {
    @apply w-full;
  }

  select {
    @apply appearance-none bg-transparent;
    background-image: linear-gradient(45deg, transparent 50%, theme('colors.gray.500') 0),
      linear-gradient(135deg, theme('colors.gray.500') 50%, transparent 0);
    background-position: calc(100% - 20px) calc(50% + 2px), calc(100% - 16px) calc(50% + 2px);
    background-repeat: no-repeat;
    background-size: 4px 4px, 4px 4px;
  }

  [type="search"] {
    @apply appearance-none;
  }

  button,
  [role="button"],
  [type="reset"],
  [type="submit"],
  html [type="button"] {
    @apply cursor-pointer inline-flex justify-center items-center border-0;
  }

  /* Media elements */
  img,
  picture,
  video,
  canvas,
  svg {
    @apply inline-block text-inherit align-middle h-auto w-full max-w-full;
  }

  figure {
    @apply m-0;
  }

  ul,
  ol {
    @apply list-none;
  }

  table {
    @apply w-full max-w-full border-collapse;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    @apply font-base font-bold;
  }

  h1 {
    @apply text-3xl leading-tight;
  }

  h2 {
    @apply text-2xl leading-snug;
  }

  h3 {
    @apply text-xl leading-snug;
  }

  h4 {
    @apply text-lg leading-snug;
  }

  h5 {
    @apply text-base leading-snug;
  }

  h6 {
    @apply text-sm leading-normal;
  }
}

/* Component styles */
@layer components {
  /* Links */
  a {
    @apply inline-flex text-current no-underline transition-all;
  }

  a:hover,
  a:active {
    @apply text-current;
  }

  /* Clickable cards */
  .clickable-card:not(a),
  .clickable-card:not(a) a,
  a.clickable-card {
    @apply static;
  }

  .clickable-card:not(a) > a:after,
  a.clickable-card:after {
    @apply absolute inset-0 cursor-pointer flex;
    content: "";
  }

  /* Screen reader text */
  .screen-reader-text {
    @apply sr-only;
  }

  /* Skip link */
  .skip {
    @apply absolute top-4 left-4 inline-flex justify-center items-center gap-2 
           w-px h-px p-0 -m-px border-0 bg-transparent text-current 
           text-inherit leading-normal no-underline whitespace-nowrap 
           overflow-hidden transition-all duration-300 z-50;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
  }

  .skip:focus {
    @apply w-auto h-auto py-4 px-6 m-0 bg-white z-[9999];
    clip: auto;
    clip-path: none;
  }

  /* Card component */
  .keto-card {
    @apply flex flex-col relative bg-cover rounded-sm shadow-xl overflow-hidden transition-all duration-300;
  }

  [class*="__head"] {
    @apply inline-block w-full h-fit object-cover object-center static m-0;
  }

  [class*="__head"] picture img {
    @apply static object-cover object-center transition-all;
  }

  [class*="__body"] {
    @apply w-full flex flex-wrap flex-col items-center gap-2 p-s static flex-grow;
  }

  /* Buttons */
  .btn {
    @apply inline-flex justify-center items-center gap-2 px-6 py-4 font-bold 
           text-inherit text-center leading-none border-2 rounded-sm 
           cursor-pointer transition-all duration-300 will-change-transform;
  }

  .btn:hover {
    @apply transform scale-105;
  }

  .btn:focus {
    @apply outline-2 outline-offset-8;
  }

  .btn-base {
    @apply btn bg-base border-base text-black;
  }

  .btn-base:hover {
    @apply bg-base-300 border-base-300;
  }

  .btn-base:focus {
    @apply bg-base-300 border-base-300 outline-base-300;
  }

  .btn-base:active {
    @apply bg-base-600;
  }

  .btn-alt {
    @apply btn bg-alt border-alt text-white;
  }

  .btn-alt:hover {
    @apply bg-alt-300 border-alt-300;
  }

  .btn-alt:focus {
    @apply bg-alt-300 border-alt-300 outline-alt-300;
  }

  .btn-alt:active {
    @apply bg-alt-600;
  }

  .btn-action {
    @apply btn bg-action border-action text-white;
  }

  .btn-action:hover {
    @apply bg-action-300 border-action-300;
  }

  .btn-action:focus {
    @apply bg-action-300 border-action-300 outline-action-300;
  }

  .btn-action:active {
    @apply bg-action-600;
  }

  /* Forms */
  .search-form,
  .wc-search-form,
  form[role="search"] {
    @apply w-full max-w-lg inline-block relative;
  }

  .search-form input[type="search"],
  .wc-search-form input[type="search"],
  form[role="search"] input[type="search"] {
    @apply px-4 w-full border border-gray-300 rounded-lg relative min-h-[2.5em];
  }

  .search-form button[type="submit"],
  .wc-search-form button[type="submit"],
  form[role="search"] button[type="submit"] {
    @apply px-4 bg-transparent rounded-sm absolute top-0 right-0 min-h-[2.5em];
  }

  .search-form button[type="submit"]:hover,
  .wc-search-form button[type="submit"]:hover,
  form[role="search"] button[type="submit"]:hover {
    @apply bg-action-50;
  }

  .search-form button[type="submit"] svg,
  .wc-search-form button[type="submit"] svg,
  form[role="search"] button[type="submit"] svg {
    @apply text-xl;
  }

  /* Sticky utilities */
  .sticky-xs {
    @apply sticky;
  }

  .sticky-xs.top-xs {
    @apply top-[5%] p-[5%] border border-gray-300 rounded-sm;
  }
}

/* Utility classes */
@layer utilities {
  /* Container utilities */
  .container {
    @apply max-w-[136.6rem] w-full mx-auto;
  }

  section {
    @apply max-w-full w-full px-xs mx-auto;
  }

  /* Grid utilities */
  .grid-1-3 {
    @apply grid grid-cols-[minmax(0,1fr)_minmax(0,3fr)];
  }

  /* Spacing utilities */
  .gap-xs { @apply gap-xs; }
  .gap-s { @apply gap-s; }
  .gap-m { @apply gap-m; }
  .gap-l { @apply gap-l; }
  .gap-xl { @apply gap-xl; }
  .gap-2xl { @apply gap-2xl; }
  .gap-3xl { @apply gap-3xl; }
  .gap-4xl { @apply gap-4xl; }
  .gap-5xl { @apply gap-5xl; }

  /* Text utilities */
  .text-2xs { @apply text-2xs; }
  .text-xs { @apply text-xs; }
  .text-s { @apply text-sm; }
  .text-m { @apply text-base; }
  .text-l { @apply text-lg; }
  .text-xl { @apply text-xl; }
  .text-2xl { @apply text-2xl; }
  .text-3xl { @apply text-3xl; }
  .text-4xl { @apply text-4xl; }
  .text-5xl { @apply text-5xl; }

  /* Animation preferences */
  @media (prefers-reduced-motion: reduce) {
    html:focus-within {
      scroll-behavior: auto;
    }

    *,
    ::before,
    ::after {
      animation-delay: -1ms !important;
      animation-duration: 1ms !important;
      animation-iteration-count: 1 !important;
      background-attachment: initial !important;
      scroll-behavior: auto !important;
      transition-duration: 0s !important;
      transition-delay: 0s !important;
    }
  }
}